<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>模拟一个数据检测</title>
    <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>



<script type="text/javascript">
    Vue.config.productionTip = false

    let data={
        name:"华南理工大学",
        address:"农村"
    }

    /*
    Object.defineProperty(data,"name",{
        get(){
            return data.name
        },
        set(value){
            data.name=value
        }
    });
    */

    //创建一个监视的实例对象,用于监视data中属性的变化
    const obs=new Observer(data)
    console.log(obs)

    //准备一个VM实例对象
    let vm={}

    vm._data=data=obs

    function Observer(obj){
        //汇总对象中所有的属性形成一个数组
        const keys=Object.keys(obj)
        //遍历
        keys.forEach((K)=>{
            //函数体
            Object.defineProperty(this,K,{
                get(){
                    return obj[k]
                },
                set(value){
                    console.log("${K}被改了,我要去解析模板,生成虚拟DoM......我要开始忙了")
                    obj[k]=value
                }
            })
        })
    }








</script>


</body>
</html>
