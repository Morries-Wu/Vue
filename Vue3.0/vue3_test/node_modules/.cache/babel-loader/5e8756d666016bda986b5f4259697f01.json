{"ast":null,"code":"import { customRef } from 'vue';\nexport default {\n  name: 'App',\n  setup: function () {\n    /*使用Vue提供的ref*/\n\n    /*let keyWord = ref('hello')*/\n\n    /*自定义一个ref——名为:myRef*/\n    function myRef(value, delay) {\n      console.log('--myRef', value);\n      return customRef((track, trigger) => {\n        return {\n          get: function () {\n            console.log(`有人把myRef这个容器读取数据了,我把${value}给他了`);\n            /*通知Vue追踪value的变化(提前和get商量一下,让他认为这个value是有用的)*/\n\n            track();\n            return value;\n          },\n          set: function (newValue) {\n            console.log(`有人把myRef这个容器读取数据改为了,${newValue}`);\n            setTimeout(() => {\n              value = newValue;\n              /*通知Vue去重新解析模板*/\n\n              trigger();\n            }, delay);\n          }\n        };\n      });\n    }\n    /*使用程序员自定义的ref*/\n\n\n    let keyWord = myRef('hello', 500);\n    return {\n      keyWord,\n      myRef\n    };\n  }\n};","map":{"version":3,"mappings":"AAOA,SAAQA,SAAR,QAAwB,KAAxB;AAEA,eAAe;EACbC,IAAI,EAAE,KADO;EAEbC,KAAK,EAAE,YAAY;IACjB;;IACA;;IAEA;IACA,SAASC,KAAT,CAAeC,KAAf,EAAsBC,KAAtB,EAA6B;MAC3BC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,KAAvB;MACA,OAAOJ,SAAS,CAAC,CAACQ,KAAD,EAAQC,OAAR,KAAoB;QACnC,OAAO;UACLC,GAAG,EAAE,YAAY;YACfJ,OAAO,CAACC,GAAR,CAAa,uBAAsBH,KAAM,KAAzC;YACA;;YACAI,KAAK;YACL,OAAOJ,KAAP;UACD,CANI;UAOLO,GAAG,EAAE,UAAUC,QAAV,EAAoB;YACvBN,OAAO,CAACC,GAAR,CAAa,uBAAsBK,QAAS,EAA5C;YACAC,UAAU,CAAC,MAAM;cACfT,KAAI,GAAIQ,QAAR;cACA;;cACAH,OAAO;YACR,CAJS,EAIPJ,KAJO,CAAV;UAMF;QAfK,CAAP;MAkBD,CAnBe,CAAhB;IAoBF;IAEA;;;IACA,IAAIS,OAAM,GAAIX,KAAK,CAAC,OAAD,EAAU,GAAV,CAAnB;IAEA,OAAO;MACLW,OADK;MAELX;IAFK,CAAP;EAIF;AAtCa,CAAf","names":["customRef","name","setup","myRef","value","delay","console","log","track","trigger","get","set","newValue","setTimeout","keyWord"],"sourceRoot":"","sources":["F:\\Multifunctionapplication\\Advanced Files\\IntelliJ IDEA Project\\Vue\\Vue3.0\\vue3_test\\src\\App.vue"],"sourcesContent":["<template>\n  <div align=\"center\">\n    \n  </div>\n</template>\n\n<script>\nimport {customRef} from 'vue'\n\nexport default {\n  name: 'App',\n  setup: function () {\n    /*使用Vue提供的ref*/\n    /*let keyWord = ref('hello')*/\n\n    /*自定义一个ref——名为:myRef*/\n    function myRef(value, delay) {\n      console.log('--myRef', value)\n      return customRef((track, trigger) => {\n        return {\n          get: function () {\n            console.log(`有人把myRef这个容器读取数据了,我把${value}给他了`)\n            /*通知Vue追踪value的变化(提前和get商量一下,让他认为这个value是有用的)*/\n            track()\n            return value\n          },\n          set: function (newValue) {\n            console.log(`有人把myRef这个容器读取数据改为了,${newValue}`)\n            setTimeout(() => {\n              value = newValue\n              /*通知Vue去重新解析模板*/\n              trigger()\n            }, delay)\n\n          }\n\n        }\n      })\n    }\n\n    /*使用程序员自定义的ref*/\n    let keyWord = myRef('hello', 500)\n\n    return {\n      keyWord,\n      myRef\n    }\n  }\n}\n</script>\n\n\n"]},"metadata":{},"sourceType":"module"}