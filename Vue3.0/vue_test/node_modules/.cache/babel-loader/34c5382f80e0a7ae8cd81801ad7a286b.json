{"ast":null,"code":"/*该文件专门创建整个应用的路由器*/\nimport VueRouter from 'vue-router';\nimport Home from \"@/pages/Home\";\nimport About from \"@/pages/About\";\nimport News from \"@/pages/News\";\nimport Message from \"@/pages/Message\";\nimport Detail from \"@/pages/Detail\";\n/*创建并暴露一个路由器*/\n\nvar router = new VueRouter({\n  routes: [{\n    name: 'guanyu',\n    path: '/about',\n    component: About,\n    meta: {\n      title: '关于'\n    }\n  }, {\n    name: 'zhuye',\n    path: '/home',\n    component: Home,\n    meta: {\n      title: '主页'\n    },\n    children: [{\n      name: 'xinwen',\n      path: 'news',\n      component: News,\n      meta: {\n        isAuth: true,\n        title: '新闻'\n      }\n    }, {\n      name: 'xiaoxi',\n      path: 'message',\n      component: Message,\n      meta: {\n        isAuth: true,\n        title: '消息'\n      },\n      children: [{\n        name: 'xiangqing',\n        path: 'detail',\n        component: Detail,\n        meta: {\n          isAuth: true,\n          title: '详情'\n        },\n\n        /*\r\n        props的第一种写法,值为对象,该对象中的所有key-value都会以props的形式传给Detail组件\r\n        props:{a:1,b:'hello'}*/\n\n        /*\r\n        props的第二种写法,值为布尔值,若布尔值为真,就会把该路由组件收到的所有params参数以\r\n        以props的形式传给Detail组件\r\n        props:true*/\n\n        /*props的第三种写法,值为函数*/\n        props: function props($route) {\n          return {\n            id: $route.query.id,\n            title: $route.query.title\n          };\n        }\n      }]\n    }]\n  }]\n});\n/*全局前置路由守卫——————初始化的时候被调用、每次路由切换之前被调用*/\n\nrouter.beforeEach(function (to, from, next) {\n  console.log('前置路由守卫', to, from);\n  /*判断是否需要权限*/\n\n  if (to.meta.isAuth) {\n    if (localStorage.getItem('school') === 'guigu') {\n      next();\n    } else {\n      alert('学校名称不一致,无权限查看');\n    }\n  } else {\n    next();\n  }\n});\n/*全局后置路由守卫————初始化的时候被调用、每次路由切换之后被调用*/\n\nrouter.afterEach(function (to, from) {\n  console.log('后置路由守卫', to, from);\n  document.title = to.meta.title = '真的是服了你个老六' || 'super系统';\n});\nexport default router;","map":{"version":3,"names":["VueRouter","Home","About","News","Message","Detail","router","routes","name","path","component","meta","title","children","isAuth","props","$route","id","query","beforeEach","to","from","next","console","log","localStorage","getItem","alert","afterEach","document"],"sources":["F:/Multifunctionapplication/Advanced Files/IntelliJ IDEA Project/Vue/Vue3.0/vue_test/src/router/index.js"],"sourcesContent":["/*该文件专门创建整个应用的路由器*/\r\nimport VueRouter from 'vue-router'\r\nimport Home from \"@/pages/Home\";\r\nimport About from \"@/pages/About\";\r\nimport News from \"@/pages/News\";\r\nimport Message from \"@/pages/Message\";\r\nimport Detail from \"@/pages/Detail\";\r\n\r\n/*创建并暴露一个路由器*/\r\nconst router = new VueRouter({\r\n    routes: [\r\n        {\r\n            name: 'guanyu',\r\n            path: '/about',\r\n            component: About,\r\n            meta: {\r\n                title: '关于'\r\n            }\r\n        },\r\n        {\r\n            name: 'zhuye',\r\n            path: '/home',\r\n            component: Home,\r\n            meta: {\r\n                title: '主页'\r\n            },\r\n            children: [\r\n                {\r\n                    name: 'xinwen',\r\n                    path: 'news',\r\n                    component: News,\r\n                    meta: {\r\n                        isAuth: true,\r\n                        title: '新闻'\r\n                    }\r\n                },\r\n                {\r\n                    name: 'xiaoxi',\r\n                    path: 'message',\r\n                    component: Message,\r\n                    meta: {\r\n                        isAuth: true,\r\n                        title: '消息'\r\n                    },\r\n                    children: [\r\n                        {\r\n                            name: 'xiangqing',\r\n                            path: 'detail',\r\n                            component: Detail,\r\n                            meta: {\r\n                                isAuth: true,\r\n                                title: '详情'\r\n                            },\r\n                            /*\r\n                            props的第一种写法,值为对象,该对象中的所有key-value都会以props的形式传给Detail组件\r\n                            props:{a:1,b:'hello'}*/\r\n\r\n                            /*\r\n                            props的第二种写法,值为布尔值,若布尔值为真,就会把该路由组件收到的所有params参数以\r\n                            以props的形式传给Detail组件\r\n                            props:true*/\r\n\r\n                            /*props的第三种写法,值为函数*/\r\n                            props: function ($route) {\r\n                                return {\r\n                                    id: $route.query.id,\r\n                                    title: $route.query.title\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n    ]\r\n})\r\n\r\n/*全局前置路由守卫——————初始化的时候被调用、每次路由切换之前被调用*/\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n    console.log('前置路由守卫', to, from)\r\n    /*判断是否需要权限*/\r\n    if (to.meta.isAuth) {\r\n        if (localStorage.getItem('school') === 'guigu') {\r\n            next()\r\n        } else {\r\n            alert('学校名称不一致,无权限查看')\r\n        }\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\n/*全局后置路由守卫————初始化的时候被调用、每次路由切换之后被调用*/\r\nrouter.afterEach((to, from) => {\r\n    console.log('后置路由守卫', to, from)\r\n    document.title = to.meta.title = '真的是服了你个老六' || 'super系统'\r\n})\r\n\r\n\r\nexport default router\r\n"],"mappings":"AAAA;AACA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA;;AACA,IAAMC,MAAM,GAAG,IAAIN,SAAJ,CAAc;EACzBO,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,QADV;IAEIC,IAAI,EAAE,QAFV;IAGIC,SAAS,EAAER,KAHf;IAIIS,IAAI,EAAE;MACFC,KAAK,EAAE;IADL;EAJV,CADI,EASJ;IACIJ,IAAI,EAAE,OADV;IAEIC,IAAI,EAAE,OAFV;IAGIC,SAAS,EAAET,IAHf;IAIIU,IAAI,EAAE;MACFC,KAAK,EAAE;IADL,CAJV;IAOIC,QAAQ,EAAE,CACN;MACIL,IAAI,EAAE,QADV;MAEIC,IAAI,EAAE,MAFV;MAGIC,SAAS,EAAEP,IAHf;MAIIQ,IAAI,EAAE;QACFG,MAAM,EAAE,IADN;QAEFF,KAAK,EAAE;MAFL;IAJV,CADM,EAUN;MACIJ,IAAI,EAAE,QADV;MAEIC,IAAI,EAAE,SAFV;MAGIC,SAAS,EAAEN,OAHf;MAIIO,IAAI,EAAE;QACFG,MAAM,EAAE,IADN;QAEFF,KAAK,EAAE;MAFL,CAJV;MAQIC,QAAQ,EAAE,CACN;QACIL,IAAI,EAAE,WADV;QAEIC,IAAI,EAAE,QAFV;QAGIC,SAAS,EAAEL,MAHf;QAIIM,IAAI,EAAE;UACFG,MAAM,EAAE,IADN;UAEFF,KAAK,EAAE;QAFL,CAJV;;QAQI;AAC5B;AACA;;QAE4B;AAC5B;AACA;AACA;;QAE4B;QACAG,KAAK,EAAE,eAAUC,MAAV,EAAkB;UACrB,OAAO;YACHC,EAAE,EAAED,MAAM,CAACE,KAAP,CAAaD,EADd;YAEHL,KAAK,EAAEI,MAAM,CAACE,KAAP,CAAaN;UAFjB,CAAP;QAIH;MAvBL,CADM;IARd,CAVM;EAPd,CATI;AADiB,CAAd,CAAf;AAoEA;;AACAN,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;EAElCC,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,EAAtB,EAA0BC,IAA1B;EACA;;EACA,IAAID,EAAE,CAACT,IAAH,CAAQG,MAAZ,EAAoB;IAChB,IAAIW,YAAY,CAACC,OAAb,CAAqB,QAArB,MAAmC,OAAvC,EAAgD;MAC5CJ,IAAI;IACP,CAFD,MAEO;MACHK,KAAK,CAAC,eAAD,CAAL;IACH;EACJ,CAND,MAMO;IACHL,IAAI;EACP;AACJ,CAbD;AAeA;;AACAhB,MAAM,CAACsB,SAAP,CAAiB,UAACR,EAAD,EAAKC,IAAL,EAAc;EAC3BE,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,EAAtB,EAA0BC,IAA1B;EACAQ,QAAQ,CAACjB,KAAT,GAAiBQ,EAAE,CAACT,IAAH,CAAQC,KAAR,GAAgB,eAAe,SAAhD;AACH,CAHD;AAMA,eAAeN,MAAf"},"metadata":{},"sourceType":"module"}